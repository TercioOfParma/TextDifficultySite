@using TextDifficultyDeterminer.Website.UploadToDatabase
@using Radzen.Blazor;
@inherits UploadTextBoxBase;

@page "/TestLoadCorpus"

<EditForm Model="TestCorpusUploadDto">
    <div class="row">
        @if(LanguageList != null)
        {
            <RadzenText Text="Language"></RadzenText>
            <RadzenDropDown @bind-Value="LanguageId" Data="LanguageList" TextProperty="LanguageName" ValueProperty="Id">
            </RadzenDropDown>
        }
    </div>
    <div class="row">
        <h5>Please upload the Text files for saving to the Database Corpus here</h5>
        <RadzenUpload @ref="Upload" Auto="false" Multiple="true" Url=@($"http://localhost:5128/api/LoadCorpus/{LanguageId}") Complete="async (args) => await HandleResponseUploadToDatabase(args)"></RadzenUpload>
        <RadzenButton Text="Upload" Click="@( () => Upload.Upload())"></RadzenButton>
    </div>
</EditForm>
@if(IsUploaded)
{
    <div class="row">
        <RadzenText class="text-success" Text="Uploaded to Database!"></RadzenText>
    </div>
}
<div class="row">
    <RadzenText class="text-danger" Text="Error! Incorrect File format!"></RadzenText>
</div>
